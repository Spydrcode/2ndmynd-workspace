{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "owner_intent_intake_v0.2",
  "title": "OwnerIntentIntake",
  "description": "7-question owner intent intake for the coherence engine. Supports partial completion.",
  "type": "object",
  "required": ["intake_version", "collected_at"],
  "additionalProperties": false,
  "properties": {
    "intake_version": {
      "type": "string",
      "const": "0.2"
    },
    "collected_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the intake was collected."
    },
    "value_prop_tags": {
      "type": "array",
      "description": "Q1: 'Customers choose us because…' (pick up to 2)",
      "items": {
        "type": "string",
        "enum": [
          "speed_responsiveness",
          "affordability",
          "clarity_communication",
          "safety_compliance",
          "premium_quality",
          "availability_when_others_wont",
          "local_trust",
          "convenience_low_hassle",
          "relationship_care",
          "other_custom"
        ]
      },
      "maxItems": 2,
      "uniqueItems": true,
      "default": []
    },
    "value_prop_other": {
      "type": "string",
      "maxLength": 120,
      "description": "Free-text if 'other_custom' is selected in value_prop_tags."
    },
    "priorities_ranked": {
      "type": "array",
      "description": "Q2: 'Top priorities right now' (rank top 3, order matters)",
      "items": {
        "type": "string",
        "enum": [
          "profit_margin",
          "predictability_stability",
          "safety_compliance",
          "customer_experience",
          "speed_throughput",
          "craftsmanship_quality",
          "low_stress_owner",
          "time_freedom",
          "reputation_trust",
          "growth_scale"
        ]
      },
      "minItems": 1,
      "maxItems": 3,
      "uniqueItems": true,
      "default": []
    },
    "non_negotiables": {
      "type": "array",
      "description": "Q3: 'What is non-negotiable for you?' (pick up to 3)",
      "items": {
        "type": "string",
        "enum": [
          "no_safety_compromise",
          "no_pushy_sales",
          "no_quality_compromise",
          "keep_prices_fair",
          "protect_reputation",
          "protect_family_time",
          "stay_local_service_area",
          "stay_small_owner_led",
          "follow_regulations_strictly"
        ]
      },
      "maxItems": 3,
      "uniqueItems": true,
      "default": []
    },
    "anti_goals": {
      "type": "array",
      "description": "Q4: 'What do you want to avoid?' (pick up to 3)",
      "items": {
        "type": "string",
        "enum": [
          "dont_scale_headcount",
          "dont_raise_prices_aggressively",
          "dont_take_debt",
          "dont_work_nights_weekends",
          "dont_accept_high_risk_jobs",
          "dont_upsell_unneeded",
          "dont_expand_service_area",
          "dont_chase_growth_at_all_costs"
        ]
      },
      "maxItems": 3,
      "uniqueItems": true,
      "default": []
    },
    "primary_constraint": {
      "type": "string",
      "description": "Q5: 'Your current constraint is mostly…' (pick 1)",
      "enum": [
        "too_many_small_jobs",
        "not_enough_leads",
        "long_sales_cycle",
        "scheduling_chaos",
        "customer_communication_load",
        "compliance_pressure",
        "supplier_delays_materials",
        "cashflow_gaps",
        "owner_bottleneck_decisions",
        "staffing_gaps"
      ]
    },
    "success_90d": {
      "type": "string",
      "maxLength": 280,
      "description": "Q6: 'If things were working well 90 days from now, what would be true?'"
    },
    "context_notes": {
      "type": "string",
      "maxLength": 500,
      "description": "Q7: 'Any context we should respect?' (optional)"
    }
  }
}
